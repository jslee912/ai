-- [VI] 인덱스 : SELECT 속도를 높이기 위해 사용
DROP TABLE EMP01;
CREATE TABLE EMP01 AS SELECT * FROM EMP;  -- EMP테이블의 내용과 같은 EMP01생성
SELECT * FROM EMP01;  -- 14행
INSERT INTO EMP01 SELECT * FROM EMP01;  -- 데이터 뻥튀기 1번(28),2번(56)
SELECT COUNT(*) FROM EMP01;
INSERT INTO EMP01 SELECT * FROM EMP01;  -- 11번(11만)
SELECT COUNT(*) FROM EMP01;    -- 114688
INSERT INTO EMP01(EMPNO,ENAME,DEPTNO) VALUES (1111,'HONG',50); -- 서브쿼리로 복사해서 만들면 제약조건사라짐
INSERT INTO EMP01 SELECT * FROM EMP01; -- 1번(22만),2번(45만),3번(90만)
SELECT COUNT(*) FROM EMP01;    -- 917512  91만개행
SELECT * FROM EMP01 WHERE ENAME='HONG';  -- 인덱스 생성전 조회시간 : 0.015초
CREATE INDEX IDX_EMP01_ENAME ON EMP01(ENAME);  -- B-TREE가 만들어진다.(0.653초-인덱스생성)
SELECT * FROM EMP01 WHERE ENAME='HONG';  -- 0.002초
COMMIT;
INSERT INTO EMP01 SELECT * FROM EMP01;  -- 91만->182만 (39.113초)
SELECT COUNT(*) FROM EMP01;  -- 0.025초
ROLLBACK;  -- 16.82초
-- 인덱스 삭제
DROP INDEX IDX_EMP01_ENAME;
SELECT * FROM EMP01 WHERE ENAME='HONG';  -- 0.028
INSERT INTO EMP01 SELECT * FROM EMP01; -- 91만 ->128만 (0.945초)
ROLLBACK; -- 0.13초
DROP TABLE EMP01;  -- 테이블 삭제시 해당 테이블의 인덱스도 삭제






